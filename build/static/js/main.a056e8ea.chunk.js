(this.webpackJsonpreactcourse=this.webpackJsonpreactcourse||[]).push([[0],{18:function(e,n,t){},19:function(e,n,t){"use strict";t.r(n);var i=t(0),c=t(1),r=t.n(c),a=t(9),s=t.n(a),l=t(7),d=t.n(l),o=t(10),u=t(3),j=t(8),b=t(20),m=t(2);function p(e){var n=e.name,t=e.amount;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("span",{children:n}),Object(i.jsx)("span",{children:t})]})}function h(e){var n=e.ingredients.map((function(e){return Object(i.jsx)(p,Object(m.a)({},e),e.id)}));return Object(i.jsx)("div",{className:"ingredient-grid",children:n})}function O(e){var n=Object(c.useContext)(N),t=n.handleRecipeDelete,r=n.handleRecipeSelect,a=e.id,s=e.name,l=e.cookTime,d=e.servings,o=e.instructions,u=e.ingredients;return Object(i.jsxs)("div",{className:"recipe",children:[Object(i.jsxs)("div",{className:"recipe__header",children:[Object(i.jsx)("h3",{className:"recipe__title",children:s}),Object(i.jsxs)("div",{children:[Object(i.jsx)("button",{onClick:function(){return r(a)},className:"btn btn--primary mr-1",children:"Edit"}),Object(i.jsx)("button",{className:"btn btn--danger",onClick:function(){return t(a)},children:"Delete"})]})]}),Object(i.jsxs)("div",{className:"recipe__row",children:[Object(i.jsx)("span",{className:"recipe__label",children:"Cook time:"}),Object(i.jsx)("span",{className:"recipe__value",children:l})]}),Object(i.jsxs)("div",{className:"recipe__row",children:[Object(i.jsx)("span",{className:"recipe__label",children:"Servings:"}),Object(i.jsx)("span",{className:"recipe__value",children:d})]}),Object(i.jsxs)("div",{className:"recipe__row",children:[Object(i.jsxs)("span",{className:"recipe__label",children:["Instructions:",Object(i.jsx)("br",{})]}),Object(i.jsx)("div",{className:"recipe__value recipe__instructions recipe__value--indented",children:o})]}),Object(i.jsxs)("div",{className:"recipe__row",children:[Object(i.jsxs)("span",{className:"recipe__label",children:["Ingredients:",Object(i.jsx)("br",{})]}),Object(i.jsx)("div",{className:"recipe__value",children:Object(i.jsx)(h,{ingredients:u})})]}),Object(i.jsx)("br",{})]})}function x(e){var n=e.recipes,t=Object(c.useContext)(N).handleRecipeAdd;return Object(i.jsxs)("div",{className:"recipe-list",children:[Object(i.jsx)("div",{children:n.map((function(e){return Object(i.jsx)(O,Object(m.a)({},e),e.id)}))}),Object(i.jsx)("div",{className:"recipe-list__add-recipe-btn-container",children:Object(i.jsx)("button",{className:"btn btn--primary",onClick:function(){return t()},children:"Add Recipe"})})]})}function g(e){var n=e.ingredient,t=e.handleIngredientChange,c=e.handleIngredientDelete;function r(e){t(n.id,Object(m.a)(Object(m.a)({},n),e))}return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("input",{onChange:function(e){return r({name:e.target.value})},value:n.name,className:"recipe-edit__input",type:"text"}),Object(i.jsx)("input",{onChange:function(e){return r({amount:e.target.value})},value:n.amount,className:"recipe-edit__input",type:"text"}),Object(i.jsx)("button",{onClick:function(){return c(n.id)},className:"btn btn--danger",children:"\xd7"})]})}function v(e){var n=e.recipe,t=Object(c.useContext)(N),r=t.handleRecipeChange,a=t.handleRecipeSelect,s=n.name,l=n.cookTime,d=n.instructions,o=n.servings,j=n.ingredients;function p(e){r(n.id,Object(m.a)(Object(m.a)({},n),e))}function h(e,t){var i=Object(u.a)(n.ingredients),c=i.findIndex((function(n){return n.id===e}));i[c]=t,p({ingredients:i})}function O(e){p({ingredients:n.ingredients.filter((function(n){return n.id!==e}))})}return Object(i.jsxs)("div",{className:"recipe-edit",children:[Object(i.jsx)("div",{className:"recipe_edit__remove-button-container",children:Object(i.jsx)("button",{onClick:function(){return a(void 0)},className:"btn recipe_edit__remove-button",children:"\xd7"})}),Object(i.jsxs)("div",{className:"recipe-edit__details-grid",children:[Object(i.jsx)("label",{htmlFor:"name",className:"recipe-edit__label",children:"Name"}),Object(i.jsx)("input",{type:"text",name:"name",id:"name",value:s,onChange:function(e){return p({name:e.target.value})},className:"recipe-edit__input"}),Object(i.jsx)("label",{htmlFor:"cookTime",className:"recipe-edit__label",children:"Cook Time"}),Object(i.jsx)("input",{type:"text",name:"cookTime",id:"cookTime",value:l,onChange:function(e){return p({cookTime:e.target.value})},className:"recipe-edit__input"}),Object(i.jsx)("label",{htmlFor:"servings",className:"recipe-edit__label",children:"Servings"}),Object(i.jsx)("input",{type:"number",min:"1",name:"servings",id:"servings",value:o,onChange:function(e){return p({servings:parseInt(e.target.value)||1})},className:"recipe-edit__input"}),Object(i.jsx)("label",{htmlFor:"instructions",className:"recipe-edit__label",children:"Instructions"}),Object(i.jsx)("textarea",{type:"text",name:"instructions",id:"instructions",value:d,onChange:function(e){return p({instructions:e.target.value})},className:"recipe-edit__input"})]}),Object(i.jsx)("br",{}),Object(i.jsx)("label",{className:"recipe-edit__label",children:"Ingredients"}),Object(i.jsxs)("div",{className:"recipe-edit__ingredient-grid",children:[Object(i.jsx)("div",{children:"Name"}),Object(i.jsx)("div",{children:"Amount"}),Object(i.jsx)("div",{}),j.map((function(e){return Object(i.jsx)(g,{handleIngredientChange:h,handleIngredientDelete:O,ingredient:e},e.id)}))]}),Object(i.jsx)("div",{className:"recipe-edit__add-ingredient-btn-container",children:Object(i.jsx)("button",{onClick:function(){return function(){var e={id:Object(b.a)(),name:"",amount:""};p({ingredients:[].concat(Object(u.a)(n.ingredients),[e])})}()},className:"btn btn--primary",children:"Add Ingredient"})})]})}t(18);var _=[{id:1,name:"Loading\u2026",servings:"loading\u2026",cookTime:"loading\u2026",instructions:"Loading\u2026",ingredients:[{id:1,name:"loading...",amount:""}]}],f="cookingWithReact.recipes",N=r.a.createContext();var C=function(){var e=Object(c.useState)(),n=Object(j.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)(_),s=Object(j.a)(a,2),l=s[0],m=s[1],p=l.find((function(e){return e.id===t})),h={handleRecipeAdd:function(){var e={id:Object(b.a)(),name:"",servings:1,cookTime:"",instructions:"",ingredients:[{id:Object(b.a)(),name:"",amount:""}]};r(e.id),m([].concat(Object(u.a)(l),[e]))},handleRecipeDelete:function(e){null!=t&&t===e&&r(void 0);var n=l.filter((function(n){return n.id!==e}));m(n)},handleRecipeSelect:function(e){r(e)},handleRecipeChange:function(e,n){var t=Object(u.a)(l),i=t.findIndex((function(n){return n.id===e}));t[i]=n,m(t)}},O=function(){var e=Object(o.a)(d.a.mark((function e(){var n,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cors-anywhere.herokuapp.com/https://raw.githubusercontent.com/realityexpander/reactcourse/master/src/sample.json");case 2:return n=e.sent,e.next=5,n.json();case 5:t=e.sent,m(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=localStorage.getItem(f);return null===e||0===JSON.parse(e).length?O():m(JSON.parse(e)),function(){}}),[]),Object(c.useEffect)((function(){localStorage.setItem(f,JSON.stringify(l))}),[l]),Object(i.jsxs)(N.Provider,{value:h,children:[Object(i.jsx)(x,{recipes:l}),p&&Object(i.jsx)(v,{recipe:p})]})},k=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,21)).then((function(n){var t=n.getCLS,i=n.getFID,c=n.getFCP,r=n.getLCP,a=n.getTTFB;t(e),i(e),c(e),r(e),a(e)}))};s.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(C,{})}),document.getElementById("root")),k()}},[[19,1,2]]]);
//# sourceMappingURL=main.a056e8ea.chunk.js.map