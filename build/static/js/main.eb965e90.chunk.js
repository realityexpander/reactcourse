(this.webpackJsonpreactcourse=this.webpackJsonpreactcourse||[]).push([[0],{17:function(e,n,t){},18:function(e,n,t){"use strict";t.r(n);var c=t(0),r=t(1),s=t.n(r),i=t(7),a=t.n(i),l=t(9),d=t(6),j=t.n(d),o=t(8),u=t(10),b=t(20),p=t(4);function O(e){var n=e.name,t=e.amount;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("span",{children:n}),Object(c.jsx)("span",{children:t})]})}function h(e){var n=e.ingredients.map((function(e){return Object(c.jsx)(O,Object(p.a)({},e),e.id)}));return Object(c.jsx)("div",{className:"ingredient-grid",children:n})}function m(e){var n=Object(r.useContext)(f).handleRecipeDelete,t=e.id,s=e.name,i=e.cookTime,a=e.servings,l=e.instructions,d=e.ingredients;return Object(c.jsxs)("div",{className:"recipe",children:[Object(c.jsxs)("div",{className:"recipe__header",children:[Object(c.jsx)("h3",{className:"recipe__title",children:s}),Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{className:"btn btn--primary mr-1",children:"Edit"}),Object(c.jsx)("button",{className:"btn btn--danger",onClick:function(){return n(t)},children:"Delete"})]})]}),Object(c.jsxs)("div",{className:"recipe__row",children:[Object(c.jsx)("span",{className:"recipe__label",children:"Cook time:"}),Object(c.jsx)("span",{className:"recipe__value",children:i})]}),Object(c.jsxs)("div",{className:"recipe__row",children:[Object(c.jsx)("span",{className:"recipe__label",children:"Servings:"}),Object(c.jsx)("span",{className:"recipe__value",children:a})]}),Object(c.jsxs)("div",{className:"recipe__row",children:[Object(c.jsxs)("span",{className:"recipe__label",children:["Instructions:",Object(c.jsx)("br",{})]}),Object(c.jsx)("div",{className:"recipe__value recipe__instructions recipe__value--indented",children:l})]}),Object(c.jsxs)("div",{className:"recipe__row",children:[Object(c.jsxs)("span",{className:"recipe__label",children:["Ingredients:",Object(c.jsx)("br",{})]}),Object(c.jsx)("div",{className:"recipe__value",children:Object(c.jsx)(h,{ingredients:d})})]}),Object(c.jsx)("br",{})]})}function x(e){var n=e.recipes,t=Object(r.useContext)(f).handleRecipeAdd;return Object(c.jsxs)("div",{className:"recipe-list",children:[Object(c.jsx)("div",{children:n.map((function(e){return Object(c.jsx)(m,Object(p.a)({},e),e.id)}))}),Object(c.jsx)("div",{className:"recipe-list__add-recipe-btn-container",children:Object(c.jsx)("button",{className:"btn btn--primary",onClick:function(){return t()},children:"Add Recipe"})})]})}t(17);var v=[{id:1,name:"Loading\u2026",servings:"loading\u2026",cookTime:"loading\u2026",instructions:"Loading\u2026",ingredients:[{id:1,name:"loading...",amount:""}]}],_="cookingWithReact.recipes",f=s.a.createContext();var g=function(){var e=Object(r.useState)(v),n=Object(u.a)(e,2),t=n[0],s=n[1],i={handleRecipeAdd:function(){var e={id:Object(b.a)(),name:"new",servings:1,cookTime:"1:00",instructions:"Instr.",ingredients:[{id:Object(b.a)(),name:"Pork",amount:"1 Tbs"}]};s([].concat(Object(l.a)(t),[e]))},handleRecipeDelete:function(e){var n=t.filter((function(n){return n.id!==e}));s(n)}},a=function(){var e=Object(o.a)(j.a.mark((function e(){var n,t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cors-anywhere.herokuapp.com/https://raw.githubusercontent.com/realityexpander/reactcourse/master/src/sample.json");case 2:return n=e.sent,e.next=5,n.json();case 5:t=e.sent,s(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=localStorage.getItem(_);return null===e||0===JSON.parse(e).length?a():s(JSON.parse(e)),function(){}}),[]),Object(r.useEffect)((function(){localStorage.setItem(_,JSON.stringify(t))}),[t]),Object(c.jsx)(f.Provider,{value:i,children:Object(c.jsx)(x,{recipes:t})})},N=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,21)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,s=n.getLCP,i=n.getTTFB;t(e),c(e),r(e),s(e),i(e)}))};a.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(g,{})}),document.getElementById("root")),N()}},[[18,1,2]]]);
//# sourceMappingURL=main.eb965e90.chunk.js.map